(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/error.6fdafc7f.gif"},29:function(e,t,a){e.exports=a(59)},34:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},53:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),s=a(16),u=a(17),o=a(25),i=a(18),m=a(26),d=a(64),f=a(62),p=a(63),E=(a(34),a(61)),h=a(68),b=a(3),v=a.n(b),g=Object(h.a)(function(e){var t=e.location;return r.a.createElement("div",{className:"header"},r.a.createElement("h3",{className:"header-title"},r.a.createElement(E.a,{to:"/"},"Game of Thrones DB")),r.a.createElement("ul",{className:"header-list"},r.a.createElement("li",{className:v()("",{linkSelected:"/characters/"===t.pathname})},r.a.createElement(E.a,{to:"/characters/"},"Characters")),r.a.createElement("li",{className:v()("",{linkSelected:"/houses/"===t.pathname})},r.a.createElement(E.a,{to:"/houses/"},"Houses")),r.a.createElement("li",{className:v()("",{linkSelected:"/books/"===t.pathname})},r.a.createElement(E.a,{to:"/books/"},"Books"))))}),w=a(7),j=a(2),O=a.n(j),k=a(8),N=function(){var e=function(){var e=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://www.anapioficeandfire.com/api").concat(t));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t)+", received ".concat(a.status));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t=function(){var t=Object(k.a)(O.a.mark(function t(){var a;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("/books/");case 2:return a=t.sent,t.abrupt("return",a.map(i));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(k.a)(O.a.mark(function t(a){var n;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("/books/".concat(a,"/"));case 2:return n=t.sent,t.abrupt("return",i(n));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=Object(k.a)(O.a.mark(function t(){var a;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("/characters?page=5&pageSize=10");case 2:return a=t.sent,t.abrupt("return",a.map(u));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),r=function(){var t=Object(k.a)(O.a.mark(function t(a){var n;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("/characters/".concat(a));case 2:return n=t.sent,t.abrupt("return",u(n));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(k.a)(O.a.mark(function t(){var a;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("/houses/");case 2:return a=t.sent,t.abrupt("return",a.map(o));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(k.a)(O.a.mark(function t(a){var n;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e("/houses/".concat(a,"/"));case 2:return n=t.sent,t.abrupt("return",o(n));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),s=function(e,t){var a=/\/([0-9]*)$/;return t&&e.overlord?e.overlord.match(a)[1]:e.url.match(a)[1]},u=function(e){return{id:s(e),name:e.name||"-",gender:e.gender||"-",born:e.born||"-",died:e.died||"-",culture:e.culture||"-",selectable:e.url}},o=function(e){return{id:s(e,!0),name:e.name||"-",region:e.region||"-",words:e.words||"-",titles:e.titles||"-",overlord:e.overlord||"-",ancestraWeapons:e.ancestraWeapons||"-",selectable:e.overlord}},i=function(e){return{id:s(e),name:e.name||"-",numberOfPages:e.numberOfPages||"-",publisher:e.publisher||"-",released:e.released||"-",selectable:e.url}};return{getResource:e,getAllBooks:t,getBook:a,getAllCharacters:n,getCharacter:r,getAllHouses:l,getHouse:c,isSet:function(e){return e||"no info :("}}},x=(a(41),function(){return r.a.createElement("div",{className:"lds-css ng-scope"},r.a.createElement("div",{className:"lds-spin"},r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null)),r.a.createElement("div",null,r.a.createElement("div",null))))}),C=a(21),y=a.n(C),S=(a(43),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{alt:"error",className:"photo",src:y.a}),r.a.createElement("span",null,"Something goes wrong :("))}),R=a(1),B=(a(45),function(e){var t=e.char,a=e.onClose,n=t.name,l=t.gender,c=t.born,s=t.died,u=t.culture;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"randomTitle"},r.a.createElement("h4",null,"Random Character: ",n),r.a.createElement("div",{type:"button",className:"closeButton",onClick:function(){return a()}},"X")),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},"Gender "),r.a.createElement("span",null,l)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between randomRows"},r.a.createElement("span",{className:"term"},"Born "),r.a.createElement("span",null,c)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between randomRows"},r.a.createElement("span",{className:"term"},"Died "),r.a.createElement("span",null,s)),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between randomRows"},r.a.createElement("span",{className:"term"},"Culture "),r.a.createElement("span",null,u))))}),I=function(e){var t=e.interval,a=e.onClose,l=Object(n.useState)({}),c=Object(w.a)(l,2),s=c[0],u=c[1],o=Object(n.useState)(!0),i=Object(w.a)(o,2),m=i[0],d=i[1],f=Object(n.useState)(!1),p=Object(w.a)(f,2),E=p[0],h=p[1],b=new N;Object(n.useEffect)(function(){j();var e=setInterval(j,t);return function(){clearInterval(e)}},[t]);var v=function(e){u(e),d(!1)},g=function(e){h(!0),d(!1)},j=function(){var e=Math.floor(140*Math.random()+25);b.getCharacter(e).then(v).catch(g)},O=E?r.a.createElement(S,null):null,k=m?r.a.createElement(x,null):null,C=m||E?null:r.a.createElement(B,{char:s,onClose:a});return r.a.createElement("div",{className:"random-block rounded"},O,k,C)};I.prototyps={interval:R.number},I.defaultProps={interval:1500};var A=I,D=a(22),P=a.n(D),W=(a(48),function(e){var t=e.getData,a=e.renderItem,l=e.onItemSelected,c=e.page,s=Object(n.useState)(null),u=Object(w.a)(s,2),o=u[0],i=u[1];Object(n.useEffect)(function(){t().then(function(e){i(e)})},[c]);if(!o)return r.a.createElement(x,null);var m=o.map(function(e){var t=e.id,n=e.selectable,c=a(e);return r.a.createElement("li",{key:P()(),className:v()("list-group-item",{unSelectable:!n}),onClick:function(){return l(t)}},c)});return r.a.createElement("ul",{className:"item-list list-group"},m)});W.defaultProps={onItemSelected:function(){}};var H=W,G=(a(50),function(e){var t=e.item,a=e.field,n=e.label;return r.a.createElement("li",{className:"list-group-item d-flex justify-content-between"},r.a.createElement("span",{className:"term"},n),r.a.createElement("span",{className:"description"},t[a]))}),T=function(e){var t=e.itemId,a=e.getData,l=e.children,c=e.page,s=Object(n.useState)(null),u=Object(w.a)(s,2),o=u[0],i=u[1];if(Object(n.useEffect)(function(){i(null)},[c]),Object(n.useEffect)(function(){!function(){var e=Object(k.a)(O.a.mark(function e(){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a(t);case 4:n=e.sent,i(n);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[t]),!o)return r.a.createElement("span",{className:"select-error"},"Please select an item in the list");var m=o.name;return r.a.createElement("div",{className:"char-details rounded"},r.a.createElement("h4",null,m),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.Children.map(l,function(e){return r.a.cloneElement(e,{item:o})})))},F=function(e){var t=e.left,a=e.right;return r.a.createElement(f.a,null,r.a.createElement(p.a,{md:"6"},t),r.a.createElement(p.a,{md:"6"},a))},J=function(e){var t=e.fields,a=e.page,l=Object(n.useState)(null),c=Object(w.a)(l,2),s=c[0],u=c[1],o=Object(n.useState)(!1),i=Object(w.a)(o,2),m=i[0],d=i[1];Object(n.useEffect)(function(){var e=function(){d(!0)};return window.addEventListener("error",e),function(){window.removeEventListener("error",e)}},[]);var f=new N;if(m)return r.a.createElement(S,null);var p=r.a.createElement(H,{page:a,onItemSelected:function(e){u(e)},getData:"books"===a?f.getAllBooks:"characters"===a?f.getAllCharacters:f.getAllHouses,renderItem:function(e){return e.name}}),E=r.a.createElement(T,{itemId:s,getData:"books"===a?f.getBook:"characters"===a?f.getCharacter:f.getHouse,page:a},t.map(function(e){return r.a.createElement(G,{key:e.id,field:e.field,label:e.label})}));return r.a.createElement(F,{left:p,right:E})},L=a(66),M=a(67),z=a(65),X=[{id:"pages",field:"numberOfPages",label:"Number of pages"},{id:"publisher",field:"publisher",label:"Publisher"},{id:"released",field:"released",label:"Released"}],$=[{id:"region",field:"region",label:"Region"},{id:"words",field:"words",label:"Words"},{id:"titles",field:"titles",label:"Titles"},{id:"ancestralWeapons",field:"ancestralWeapons",label:"Ancestral Weapons"}],q=[{id:"gender",field:"gender",label:"Gender"},{id:"born",field:"born",label:"Born"},{id:"died",field:"died",label:"Died"},{id:"culture",field:"culture",label:"Culture"}],K=(a(53),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).gotService=new N,a.state={showRandomChar:!0,error:!1},a.toggleRandomChar=function(){a.setState(function(e){return{showRandomChar:!e.showRandomChar}})},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.state.error?r.a.createElement(S,null):r.a.createElement(L.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(d.a,null,r.a.createElement(g,null)),r.a.createElement(d.a,null,r.a.createElement(f.a,null,r.a.createElement(p.a,null,this.state.showRandomChar&&r.a.createElement(A,{onClose:this.toggleRandomChar}))),r.a.createElement(M.a,null,r.a.createElement(z.a,{path:"/characters"},r.a.createElement(J,{fields:q,page:"characters"})),r.a.createElement(z.a,{path:"/houses"},r.a.createElement(J,{fields:$,page:"houses"})),r.a.createElement(z.a,{path:"/books"},r.a.createElement(J,{fields:X,page:"books"}))))))}}]),t}(n.Component));a(55),a(57);c.a.render(r.a.createElement(K,null),document.getElementById("root"))}},[[29,2,1]]]);
//# sourceMappingURL=main.544bcfd0.chunk.js.map